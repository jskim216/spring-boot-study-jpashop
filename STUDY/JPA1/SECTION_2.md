### 도메인 모델과 테이블 설계
- JPA 에서의 다대다(*) 관계는 실무(운영)에서는 쓰면 안된다.
- 일대다 또는 다대일로 풀어야함
- 가급적 단방향을 사용하는게 좋음
- 예제에서는 설명을 위해 넣었음

- 연관관계 매핑 중요(기본편 봐라)

### 엔티티 클래스 개발1

- @Embeddable
  - 내장타입

- 연관관계의 주인은 FK 가 가까운 쪽이 주인으로

- InheritanceType
  - SINGLE_TABLE     : 하나의 테이블에 
  - TABLE_PER_CLASS  : 각 엔티티 클래스 마다 테이블
  - JOINED           : 정규화된 스타일

- @Enumerated() 사용시 EnumType.ORDINAL 은 사용 자제

- @Getter @Setter
  - 실무에서는 가급적 Getter 는 열고 Setter 는 필요한 경우에만 사용 추천
  - 엔티티에는 가급적 Setter 를 사용하지 말것

- 값타입은 변경이 되도록 설계하면 안된다.
  - @Setter 를 제거하고 생성자에서 값을 모두 초기화
  - JPA 스펙상 엔티티, 임베디드타입 (@Embeddable) 은 기본생성자를 protected 로 설정
  - JPA 구현 라이브러리가 객체 생성시 리플랙션 같은 기술을 사용하도록 지원이 필요

- 연관관계 지연로딩
  - 즉시로딩 (EAGER) 은 예측이 어려움
  - 실무에서 모든 연관관계는 지연로딩 (LAZY) 로 설정
  - 연관된 엔티티를 함께 DB에서 조회해야하면 fetch join 또는 엔티티 그래프 기능 사용
  - ManyToOne, OneToOne 은 기본적으로 EAGER 로딩이므로 지연로딩으로 설정해줘야한다 

- 컬렉션은 필드에서 초기화
  - 하이버네이트는 엔티티를 영속화 할때 컬랙션을 감싸서 내장 컬렉션으로 변경
  - 컬렉션을 가급적 변경하지 않도록 할것

- SpringPhysicalNamingStrategy 에 의해 카멜케이스 형태의 멤버변수를 언더스코어 형태의 필드명으로 생성됨
- 스프링 부트 기본 설정으로 논리명, 물리명 룰을 적용할 수 있음

- cascade 설정
  - 엔티티 사이의 persist 전파 